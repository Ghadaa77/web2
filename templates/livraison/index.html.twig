{% extends 'baseBack.html.twig' %}

{% block body %}
<h1>Liste des livraisons</h1>
<<<<<<< HEAD
  
=======
    <!-- code du bouton de traduction -->
        <div id="google_translate_element"></div>
        <script type="text/javascript">
          function googleTranslateElementInit() {
            new google.translate.TranslateElement({pageLanguage: 'fr'}, 'google_translate_element');
          }
        </script>
        <script type="text/javascript" src="//translate.google.com/translate_a/element.js?cb=googleTranslateElementInit"></script>
        <!-- fin du code du bouton de traduction -->

   
>>>>>>> 8e2d5ae6251d16e7cfd86071e560d1d445a48627

    <table class="table">
        <thead>
            <tr>
                <th>IdLivraison</th>
                <th>DateLivraison</th>
                <th>PrixLivraison</th>
                <th>AdresseLivraison</th>
                <th>EtatLivraison</th>
                <th>Livreur</th>
                <th>actions</th>
            </tr>
        </thead>
        <tbody>
        {% for livraison in pagination %}
            <tr>
                <td>{{ livraison.idLivraison }}</td>
                <td>{{ livraison.dateLivraison ? livraison.dateLivraison|date('Y-m-d') : '' }}</td>
                <td>{{ livraison.prixLivraison }}</td>
                <td>{{ livraison.adresseLivraison }}</td>
                <td>{{ livraison.etatLivraison }}</td>
                <td>{{ livraison.fkIdLivreur.nom }} {{ livraison.fkIdLivreur.prenom }}</td>
                <td>
                    <a href="{{ path('app_livraison_show', {'idLivraison': livraison.idLivraison}) }}">show</a>
                    <a href="{{ path('app_livraison_edit', {'idLivraison': livraison.idLivraison}) }}">edit</a>
                </td>
            </tr>
        {% else %}
            <tr>
                <td colspan="5">no records found</td>
            </tr>
        {% endfor %}
       {% if pagination.getPageCount() > 1 %}
    <nav aria-label="...">
        <ul class="pagination">
        
            {% if pagination.getCurrentPageNumber() != 1 %}
                <li class="page-item">
                    <a class="page-link" href="{{ path('app_livraison_index', {'page': pagination.getCurrentPageNumber() - 1}) }}">Précédent</a>
                </li>
            {% endif %}
            {% for page in 1..pagination.getPageCount() %}
                {% if page <= 10 %}
                <li class="page-item {% if pagination.getCurrentPageNumber() == page %}active{% endif %}">
                    <a class="page-link" href="{{ path('app_livraison_index', {'page': page}) }}">{{ page }}</a>
                </li>
                {% endif %}
            {% endfor %}
            {% if pagination.getCurrentPageNumber() != pagination.getPageCount() %}
                <li class="page-item">
                    <a class="page-link" href="{{ path('app_livraison_index', {'page': pagination.getCurrentPageNumber() + 1}) }}">Suivant</a>
                </li>
            {% endif %}
        </ul>
    </nav>
{% endif %}
        </tbody>
    </table>

    <a href="{{ path('app_livraison_new') }}">Create new</a>


    <a href="{{ path('app_livraison_index') }}">back to list</a>

    <a href="{{ path('app_livraison_index', {'sortBy': 'adresseLivraison'}) }}" class="btn btn-sm btn-primary">Trier </a>


    <a href="{{ path('generator_service') }}"><button type="button" class="btn btn-primary mb-3">PDF</button></a>

    
    
    <form action="{{ path('app_livraison_index') }}" method="GET">
    <label for="searchAdresse">Recherche par :</label>
    <input type="text" id="searchAdresse" name="adresseLivraison" placeholder="Adresse de livraison..." value="{{ app.request.query.get('adresseLivraison') }}">
    <label for="selectEtat">Etat :</label>
    <select id="selectEtat" name="etatLivraison">
        <option value="">-- Choisir un état --</option>
        <option value="annulle" {% if app.request.query.get('etatLivraison') == 'annulle' %}selected{% endif %}>annulle</option>
        <option value="en cours" {% if app.request.query.get('etatLivraison') == 'en cours' %}selected{% endif %}>en cours</option>
        <option value="livree" {% if app.request.query.get('etatLivraison') == 'livree' %}selected{% endif %}>livree</option>
    </select>
    <button type="submit">Rechercher</button>
</form>

    
    
{% endblock %}
